<pages:BasePage x:Class="Heimatplatz.Features.Properties.Presentation.ForeclosureDetailPage"
                xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                xmlns:local="using:Heimatplatz.Features.Properties.Presentation"
                xmlns:utu="using:Uno.Toolkit.UI"
                xmlns:uc="using:UnoFramework.Controls"
                xmlns:pages="using:UnoFramework.Pages"
                x:Name="RootPage"
                NavigationCacheMode="Disabled">

    <!--
    ForeclosureDetailPage - Zwangsversteigerung Detailansicht
    Zeigt alle relevanten Informationen zu einer Zwangsversteigerung
    -->

    <Grid Background="{ThemeResource BackgroundBrush}">
        <uc:BusyOverlay IsBusy="{x:Bind ViewModel.IsBusy, Mode=OneWay}"
                        BusyMessage="{x:Bind ViewModel.BusyMessage, Mode=OneWay}">

            <ScrollViewer>
                <Grid Padding="{utu:Responsive Narrowest='0', Normal='40,24'}"
                      MaxWidth="1200"
                      HorizontalAlignment="Center">

                    <!-- Mobile Layout - Clean Swiss Editorial Design -->
                    <StackPanel Visibility="{utu:Responsive Narrowest=Visible, Normal=Collapsed}">

                        <!-- Hero Image Section -->
                        <Grid Height="300">
                            <Border Background="{ThemeResource PlaceholderBrush}">
                                <FontIcon Glyph="&#xE8A9;"
                                          FontSize="56"
                                          Foreground="{ThemeResource DetailsBrush}"
                                          HorizontalAlignment="Center"
                                          VerticalAlignment="Center" />
                            </Border>
                            <FlipView x:Name="MobileImageFlipView"
                                      ItemsSource="{x:Bind ViewModel.Property.ImageUrls, Mode=OneWay}"
                                      SelectionChanged="OnImageSelectionChanged">
                                <FlipView.ItemTemplate>
                                    <DataTemplate>
                                        <Image Source="{Binding}"
                                               Stretch="UniformToFill" />
                                    </DataTemplate>
                                </FlipView.ItemTemplate>
                            </FlipView>

                            <!-- ZV Badge - Top Left -->
                            <Border Background="{StaticResource ZwangsversteigerungBrush}"
                                    CornerRadius="0,0,4,0"
                                    Padding="12,8"
                                    VerticalAlignment="Top"
                                    HorizontalAlignment="Left">
                                <TextBlock Text="ZWANGSVERSTEIGERUNG"
                                           FontSize="10"
                                           FontWeight="Bold"
                                           CharacterSpacing="60"
                                           Foreground="White" />
                            </Border>

                            <!-- Image Counter - Bottom Right -->
                            <Border Background="#B3000000"
                                    CornerRadius="4"
                                    Padding="10,6"
                                    Margin="16"
                                    VerticalAlignment="Bottom"
                                    HorizontalAlignment="Right">
                                <TextBlock FontSize="12" Foreground="White">
                                    <Run Text="{x:Bind ViewModel.CurrentImageIndex, Mode=OneWay}" />
                                    <Run Text=" / " />
                                    <Run Text="{x:Bind ViewModel.Property.ImageUrls.Count, Mode=OneWay}" />
                                </TextBlock>
                            </Border>

                            <!-- Action Buttons - Top Right -->
                            <StackPanel Orientation="Horizontal"
                                        Spacing="8"
                                        Margin="16"
                                        VerticalAlignment="Top"
                                        HorizontalAlignment="Right">
                                <Button Background="#B3000000"
                                        BorderThickness="0"
                                        Padding="10"
                                        CornerRadius="20"
                                        Command="{x:Bind ViewModel.ToggleFavoriteCommand}">
                                    <FontIcon Glyph="{x:Bind ViewModel.FavoriteButtonIcon, Mode=OneWay}"
                                              FontSize="18"
                                              Foreground="White" />
                                </Button>
                                <Button Background="#B3000000"
                                        BorderThickness="0"
                                        Padding="10"
                                        CornerRadius="20"
                                        Command="{x:Bind ViewModel.SharePropertyCommand}">
                                    <FontIcon Glyph="&#xE72D;"
                                              FontSize="18"
                                              Foreground="White" />
                                </Button>
                            </StackPanel>
                        </Grid>

                        <!-- Content Container -->
                        <StackPanel Padding="20,24,20,32"
                                    Spacing="20"
                                    Background="{ThemeResource BackgroundBrush}">

                            <!-- Header: Title + Status Badges -->
                            <StackPanel Spacing="12">
                                <TextBlock Text="{x:Bind ViewModel.Property.Title, Mode=OneWay}"
                                           Style="{ThemeResource TitleLargeTextBlockStyle}"
                                           Foreground="{ThemeResource OnSurfaceBrush}"
                                           TextWrapping="Wrap"
                                           LineHeight="28" />
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <Border Background="{ThemeResource ChipSelectedBackgroundBrush}"
                                            CornerRadius="4"
                                            Padding="10,5">
                                        <TextBlock Text="{x:Bind ViewModel.StatusText, Mode=OneWay}"
                                                   FontSize="11"
                                                   FontWeight="SemiBold"
                                                   CharacterSpacing="40"
                                                   Foreground="{ThemeResource ChipSelectedForegroundBrush}" />
                                    </Border>
                                    <Border Background="{ThemeResource SellerBadgeBackgroundBrush}"
                                            CornerRadius="4"
                                            Padding="10,5">
                                        <TextBlock Text="{x:Bind ViewModel.CategoryText, Mode=OneWay}"
                                                   FontSize="11"
                                                   Foreground="{ThemeResource SellerBadgeForegroundBrush}" />
                                    </Border>
                                </StackPanel>
                            </StackPanel>

                            <!-- Auction Date - Primary Highlight -->
                            <Border Background="{StaticResource ZwangsversteigerungLightBrush}"
                                    CornerRadius="8"
                                    Padding="16"
                                    BorderBrush="{StaticResource ZwangsversteigerungBrush}"
                                    BorderThickness="1">
                                <Grid ColumnSpacing="16">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <Border Background="{StaticResource ZwangsversteigerungBrush}"
                                            CornerRadius="8"
                                            Width="48"
                                            Height="48">
                                        <FontIcon Glyph="&#xE787;"
                                                  FontSize="22"
                                                  Foreground="White"
                                                  HorizontalAlignment="Center"
                                                  VerticalAlignment="Center" />
                                    </Border>
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center" Spacing="2">
                                        <TextBlock Text="VERSTEIGERUNGSTERMIN"
                                                   FontSize="10"
                                                   FontWeight="SemiBold"
                                                   CharacterSpacing="60"
                                                   Foreground="{StaticResource ZwangsversteigerungBrush}" />
                                        <TextBlock Text="{x:Bind ViewModel.AuctionDateText, Mode=OneWay}"
                                                   FontSize="18"
                                                   FontWeight="Bold"
                                                   Foreground="{ThemeResource OnSurfaceBrush}" />
                                    </StackPanel>
                                </Grid>
                            </Border>

                            <!-- Price Cards Row -->
                            <Grid ColumnSpacing="12">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <!-- Estimated Value -->
                                <Border Background="{ThemeResource CardBrush}"
                                        CornerRadius="8"
                                        Padding="16"
                                        BorderBrush="{ThemeResource BorderBrush}"
                                        BorderThickness="1">
                                    <StackPanel Spacing="6">
                                        <TextBlock Text="SCHÄTZWERT"
                                                   FontSize="10"
                                                   FontWeight="SemiBold"
                                                   CharacterSpacing="60"
                                                   Foreground="{ThemeResource DetailsBrush}" />
                                        <TextBlock Text="{x:Bind ViewModel.EstimatedValueText, Mode=OneWay}"
                                                   FontSize="16"
                                                   FontWeight="Bold"
                                                   Foreground="{ThemeResource OnSurfaceBrush}" />
                                    </StackPanel>
                                </Border>

                                <!-- Minimum Bid -->
                                <Border Grid.Column="1"
                                        Background="{ThemeResource ChipSelectedBackgroundBrush}"
                                        CornerRadius="8"
                                        Padding="16">
                                    <StackPanel Spacing="6">
                                        <TextBlock Text="MINDESTGEBOT"
                                                   FontSize="10"
                                                   FontWeight="SemiBold"
                                                   CharacterSpacing="60"
                                                   Foreground="{ThemeResource ChipSelectedForegroundBrush}"
                                                   Opacity="0.8" />
                                        <TextBlock Text="{x:Bind ViewModel.MinimumBidText, Mode=OneWay}"
                                                   FontSize="16"
                                                   FontWeight="Bold"
                                                   Foreground="{ThemeResource ChipSelectedForegroundBrush}" />
                                    </StackPanel>
                                </Border>
                            </Grid>

                            <!-- Location Card -->
                            <Border Background="{ThemeResource CardBrush}"
                                    CornerRadius="8"
                                    Padding="16"
                                    BorderBrush="{ThemeResource BorderBrush}"
                                    BorderThickness="1">
                                <Grid ColumnSpacing="16">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <Border Background="{ThemeResource SellerBadgeBackgroundBrush}"
                                            CornerRadius="8"
                                            Width="44"
                                            Height="44">
                                        <FontIcon Glyph="&#xE707;"
                                                  FontSize="20"
                                                  Foreground="{ThemeResource OnSurfaceBrush}"
                                                  HorizontalAlignment="Center"
                                                  VerticalAlignment="Center" />
                                    </Border>
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center" Spacing="2">
                                        <TextBlock Text="STANDORT"
                                                   FontSize="10"
                                                   FontWeight="SemiBold"
                                                   CharacterSpacing="60"
                                                   Foreground="{ThemeResource DetailsBrush}" />
                                        <TextBlock Text="{x:Bind ViewModel.AddressText, Mode=OneWay}"
                                                   Style="{ThemeResource BodyMediumTextBlockStyle}"
                                                   Foreground="{ThemeResource OnSurfaceBrush}"
                                                   TextWrapping="Wrap" />
                                    </StackPanel>
                                </Grid>
                            </Border>

                            <!-- Section Divider -->
                            <Border Height="1" Background="{ThemeResource DividerBrush}" Margin="0,4" />

                            <!-- Legal Information Section -->
                            <StackPanel Spacing="12">
                                <TextBlock Text="RECHTLICHE INFORMATIONEN"
                                           FontSize="11"
                                           FontWeight="Bold"
                                           CharacterSpacing="80"
                                           Foreground="{ThemeResource OnSurfaceBrush}" />
                                <Grid ColumnSpacing="16" RowSpacing="16">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <StackPanel Spacing="4">
                                        <TextBlock Text="Gericht"
                                                   FontSize="11"
                                                   Foreground="{ThemeResource DetailsBrush}" />
                                        <TextBlock Text="{x:Bind ViewModel.CourtText, Mode=OneWay}"
                                                   FontSize="14"
                                                   FontWeight="SemiBold"
                                                   Foreground="{ThemeResource OnSurfaceBrush}"
                                                   TextWrapping="Wrap" />
                                    </StackPanel>
                                    <StackPanel Grid.Column="1" Spacing="4">
                                        <TextBlock Text="Aktenzeichen"
                                                   FontSize="11"
                                                   Foreground="{ThemeResource DetailsBrush}" />
                                        <TextBlock Text="{x:Bind ViewModel.CaseNumberText, Mode=OneWay}"
                                                   FontSize="14"
                                                   FontWeight="SemiBold"
                                                   Foreground="{ThemeResource OnSurfaceBrush}" />
                                    </StackPanel>
                                </Grid>
                            </StackPanel>

                            <!-- Section Divider -->
                            <Border Height="1" Background="{ThemeResource DividerBrush}" Margin="0,4" />

                            <!-- Area Data Section -->
                            <StackPanel Spacing="12">
                                <TextBlock Text="FLÄCHENDATEN"
                                           FontSize="11"
                                           FontWeight="Bold"
                                           CharacterSpacing="80"
                                           Foreground="{ThemeResource OnSurfaceBrush}" />
                                <Grid ColumnSpacing="8">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>

                                    <Border Background="{ThemeResource SellerBadgeBackgroundBrush}"
                                            CornerRadius="8"
                                            Padding="12,16">
                                        <StackPanel Spacing="4" HorizontalAlignment="Center">
                                            <TextBlock Text="{x:Bind ViewModel.TotalAreaText, Mode=OneWay}"
                                                       FontSize="15"
                                                       FontWeight="Bold"
                                                       Foreground="{ThemeResource OnSurfaceBrush}"
                                                       HorizontalAlignment="Center" />
                                            <TextBlock Text="Gesamt"
                                                       FontSize="10"
                                                       Foreground="{ThemeResource DetailsBrush}"
                                                       HorizontalAlignment="Center" />
                                        </StackPanel>
                                    </Border>

                                    <Border Grid.Column="1"
                                            Background="{ThemeResource SellerBadgeBackgroundBrush}"
                                            CornerRadius="8"
                                            Padding="12,16">
                                        <StackPanel Spacing="4" HorizontalAlignment="Center">
                                            <TextBlock Text="{x:Bind ViewModel.PlotAreaText, Mode=OneWay}"
                                                       FontSize="15"
                                                       FontWeight="Bold"
                                                       Foreground="{ThemeResource OnSurfaceBrush}"
                                                       HorizontalAlignment="Center" />
                                            <TextBlock Text="Grundstück"
                                                       FontSize="10"
                                                       Foreground="{ThemeResource DetailsBrush}"
                                                       HorizontalAlignment="Center" />
                                        </StackPanel>
                                    </Border>

                                    <Border Grid.Column="2"
                                            Background="{ThemeResource SellerBadgeBackgroundBrush}"
                                            CornerRadius="8"
                                            Padding="12,16">
                                        <StackPanel Spacing="4" HorizontalAlignment="Center">
                                            <TextBlock Text="{x:Bind ViewModel.BuildingAreaText, Mode=OneWay}"
                                                       FontSize="15"
                                                       FontWeight="Bold"
                                                       Foreground="{ThemeResource OnSurfaceBrush}"
                                                       HorizontalAlignment="Center" />
                                            <TextBlock Text="Bebaut"
                                                       FontSize="10"
                                                       Foreground="{ThemeResource DetailsBrush}"
                                                       HorizontalAlignment="Center" />
                                        </StackPanel>
                                    </Border>
                                </Grid>
                            </StackPanel>

                            <!-- Section Divider -->
                            <Border Height="1" Background="{ThemeResource DividerBrush}" Margin="0,4" />

                            <!-- Land Registry Section -->
                            <StackPanel Spacing="12">
                                <TextBlock Text="GRUNDBUCHDATEN"
                                           FontSize="11"
                                           FontWeight="Bold"
                                           CharacterSpacing="80"
                                           Foreground="{ThemeResource OnSurfaceBrush}" />
                                <Grid ColumnSpacing="16" RowSpacing="16">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                    </Grid.RowDefinitions>

                                    <StackPanel Spacing="4">
                                        <TextBlock Text="Einlagezahl (EZ)"
                                                   FontSize="11"
                                                   Foreground="{ThemeResource DetailsBrush}" />
                                        <TextBlock Text="{x:Bind ViewModel.RegistrationNumberText, Mode=OneWay}"
                                                   FontSize="14"
                                                   Foreground="{ThemeResource OnSurfaceBrush}" />
                                    </StackPanel>

                                    <StackPanel Grid.Column="1" Spacing="4">
                                        <TextBlock Text="Katastralgemeinde"
                                                   FontSize="11"
                                                   Foreground="{ThemeResource DetailsBrush}" />
                                        <TextBlock Text="{x:Bind ViewModel.CadastralMunicipalityText, Mode=OneWay}"
                                                   FontSize="14"
                                                   Foreground="{ThemeResource OnSurfaceBrush}" />
                                    </StackPanel>

                                    <StackPanel Grid.Row="1" Spacing="4">
                                        <TextBlock Text="Grundstücksnummer"
                                                   FontSize="11"
                                                   Foreground="{ThemeResource DetailsBrush}" />
                                        <TextBlock Text="{x:Bind ViewModel.PlotNumberText, Mode=OneWay}"
                                                   FontSize="14"
                                                   Foreground="{ThemeResource OnSurfaceBrush}" />
                                    </StackPanel>

                                    <StackPanel Grid.Row="1" Grid.Column="1" Spacing="4">
                                        <TextBlock Text="Flächenwidmung"
                                                   FontSize="11"
                                                   Foreground="{ThemeResource DetailsBrush}" />
                                        <TextBlock Text="{x:Bind ViewModel.ZoningDesignationText, Mode=OneWay}"
                                                   FontSize="14"
                                                   Foreground="{ThemeResource OnSurfaceBrush}" />
                                    </StackPanel>
                                </Grid>
                            </StackPanel>

                            <!-- Building Details (conditional) -->
                            <StackPanel Spacing="12"
                                        Visibility="{x:Bind ViewModel.HasRoomInfo, Mode=OneWay}">
                                <!-- Section Divider -->
                                <Border Height="1" Background="{ThemeResource DividerBrush}" Margin="0,4,0,8" />

                                <TextBlock Text="GEBÄUDEDETAILS"
                                           FontSize="11"
                                           FontWeight="Bold"
                                           CharacterSpacing="80"
                                           Foreground="{ThemeResource OnSurfaceBrush}" />
                                <Grid ColumnSpacing="8">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>

                                    <Border Background="{ThemeResource SellerBadgeBackgroundBrush}"
                                            CornerRadius="8"
                                            Padding="12,16">
                                        <StackPanel Spacing="4" HorizontalAlignment="Center">
                                            <TextBlock Text="{x:Bind ViewModel.NumberOfRoomsText, Mode=OneWay}"
                                                       FontSize="18"
                                                       FontWeight="Bold"
                                                       Foreground="{ThemeResource OnSurfaceBrush}"
                                                       HorizontalAlignment="Center" />
                                            <TextBlock Text="Zimmer"
                                                       FontSize="10"
                                                       Foreground="{ThemeResource DetailsBrush}"
                                                       HorizontalAlignment="Center" />
                                        </StackPanel>
                                    </Border>

                                    <Border Grid.Column="1"
                                            Background="{ThemeResource SellerBadgeBackgroundBrush}"
                                            CornerRadius="8"
                                            Padding="12,16">
                                        <StackPanel Spacing="4" HorizontalAlignment="Center">
                                            <TextBlock Text="{x:Bind ViewModel.YearBuiltText, Mode=OneWay}"
                                                       FontSize="18"
                                                       FontWeight="Bold"
                                                       Foreground="{ThemeResource OnSurfaceBrush}"
                                                       HorizontalAlignment="Center" />
                                            <TextBlock Text="Baujahr"
                                                       FontSize="10"
                                                       Foreground="{ThemeResource DetailsBrush}"
                                                       HorizontalAlignment="Center" />
                                        </StackPanel>
                                    </Border>

                                    <Border Grid.Column="2"
                                            Background="{ThemeResource SellerBadgeBackgroundBrush}"
                                            CornerRadius="8"
                                            Padding="12,16">
                                        <StackPanel Spacing="4" HorizontalAlignment="Center">
                                            <TextBlock Text="{x:Bind ViewModel.BuildingConditionText, Mode=OneWay}"
                                                       FontSize="12"
                                                       FontWeight="SemiBold"
                                                       Foreground="{ThemeResource OnSurfaceBrush}"
                                                       HorizontalAlignment="Center"
                                                       TextAlignment="Center"
                                                       TextWrapping="Wrap" />
                                            <TextBlock Text="Zustand"
                                                       FontSize="10"
                                                       Foreground="{ThemeResource DetailsBrush}"
                                                       HorizontalAlignment="Center" />
                                        </StackPanel>
                                    </Border>
                                </Grid>
                            </StackPanel>

                            <!-- Section Divider -->
                            <Border Height="1" Background="{ThemeResource DividerBrush}" Margin="0,4" />

                            <!-- Important Dates Section -->
                            <StackPanel Spacing="12">
                                <TextBlock Text="WICHTIGE TERMINE"
                                           FontSize="11"
                                           FontWeight="Bold"
                                           CharacterSpacing="80"
                                           Foreground="{ThemeResource OnSurfaceBrush}" />
                                <StackPanel Spacing="12">
                                    <Grid ColumnSpacing="16">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <Border Background="{ThemeResource SellerBadgeBackgroundBrush}"
                                                CornerRadius="8"
                                                Width="40"
                                                Height="40">
                                            <FontIcon Glyph="&#xE8F3;"
                                                      FontSize="16"
                                                      Foreground="{ThemeResource OnSurfaceBrush}"
                                                      HorizontalAlignment="Center"
                                                      VerticalAlignment="Center" />
                                        </Border>
                                        <StackPanel Grid.Column="1" VerticalAlignment="Center" Spacing="2">
                                            <TextBlock Text="Besichtigung"
                                                       FontSize="11"
                                                       Foreground="{ThemeResource DetailsBrush}" />
                                            <TextBlock Text="{x:Bind ViewModel.ViewingDateText, Mode=OneWay}"
                                                       FontSize="14"
                                                       Foreground="{ThemeResource OnSurfaceBrush}" />
                                        </StackPanel>
                                    </Grid>
                                    <Grid ColumnSpacing="16">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <Border Background="{ThemeResource SellerBadgeBackgroundBrush}"
                                                CornerRadius="8"
                                                Width="40"
                                                Height="40">
                                            <FontIcon Glyph="&#xE823;"
                                                      FontSize="16"
                                                      Foreground="{ThemeResource OnSurfaceBrush}"
                                                      HorizontalAlignment="Center"
                                                      VerticalAlignment="Center" />
                                        </Border>
                                        <StackPanel Grid.Column="1" VerticalAlignment="Center" Spacing="2">
                                            <TextBlock Text="Gebotsfrist"
                                                       FontSize="11"
                                                       Foreground="{ThemeResource DetailsBrush}" />
                                            <TextBlock Text="{x:Bind ViewModel.BiddingDeadlineText, Mode=OneWay}"
                                                       FontSize="14"
                                                       Foreground="{ThemeResource OnSurfaceBrush}" />
                                        </StackPanel>
                                    </Grid>
                                </StackPanel>
                            </StackPanel>

                            <!-- Section Divider -->
                            <Border Height="1" Background="{ThemeResource DividerBrush}" Margin="0,4" />

                            <!-- Notes Section -->
                            <StackPanel Spacing="8">
                                <TextBlock Text="HINWEISE"
                                           FontSize="11"
                                           FontWeight="Bold"
                                           CharacterSpacing="80"
                                           Foreground="{ThemeResource OnSurfaceBrush}" />
                                <TextBlock Text="{x:Bind ViewModel.NotesText, Mode=OneWay}"
                                           FontSize="14"
                                           LineHeight="22"
                                           Foreground="{ThemeResource AddressBrush}"
                                           TextWrapping="Wrap" />
                            </StackPanel>

                            <!-- Documents Section -->
                            <StackPanel Spacing="12"
                                        Visibility="{x:Bind ViewModel.HasDocuments, Mode=OneWay}">
                                <!-- Section Divider -->
                                <Border Height="1" Background="{ThemeResource DividerBrush}" Margin="0,4,0,8" />

                                <TextBlock Text="DOKUMENTE"
                                           FontSize="11"
                                           FontWeight="Bold"
                                           CharacterSpacing="80"
                                           Foreground="{ThemeResource OnSurfaceBrush}" />
                                <StackPanel Spacing="8">
                                    <Button HorizontalAlignment="Stretch"
                                            Height="48"
                                            Background="{ThemeResource CardBrush}"
                                            BorderBrush="{ThemeResource BorderBrush}"
                                            BorderThickness="1"
                                            CornerRadius="8"
                                            Visibility="{x:Bind ViewModel.EdictUrl, Mode=OneWay, Converter={StaticResource NullToCollapsedConverter}}">
                                        <StackPanel Orientation="Horizontal" Spacing="12">
                                            <FontIcon Glyph="&#xE8A7;" FontSize="16" Foreground="{ThemeResource OnSurfaceBrush}" />
                                            <TextBlock Text="Edikt anzeigen" FontSize="14" Foreground="{ThemeResource OnSurfaceBrush}" />
                                        </StackPanel>
                                    </Button>
                                    <Button HorizontalAlignment="Stretch"
                                            Height="48"
                                            Background="{ThemeResource CardBrush}"
                                            BorderBrush="{ThemeResource BorderBrush}"
                                            BorderThickness="1"
                                            CornerRadius="8"
                                            Visibility="{x:Bind ViewModel.FloorPlanUrl, Mode=OneWay, Converter={StaticResource NullToCollapsedConverter}}">
                                        <StackPanel Orientation="Horizontal" Spacing="12">
                                            <FontIcon Glyph="&#xE8B5;" FontSize="16" Foreground="{ThemeResource OnSurfaceBrush}" />
                                            <TextBlock Text="Grundriss" FontSize="14" Foreground="{ThemeResource OnSurfaceBrush}" />
                                        </StackPanel>
                                    </Button>
                                    <Button HorizontalAlignment="Stretch"
                                            Height="48"
                                            Background="{ThemeResource CardBrush}"
                                            BorderBrush="{ThemeResource BorderBrush}"
                                            BorderThickness="1"
                                            CornerRadius="8"
                                            Visibility="{x:Bind ViewModel.SitePlanUrl, Mode=OneWay, Converter={StaticResource NullToCollapsedConverter}}">
                                        <StackPanel Orientation="Horizontal" Spacing="12">
                                            <FontIcon Glyph="&#xE909;" FontSize="16" Foreground="{ThemeResource OnSurfaceBrush}" />
                                            <TextBlock Text="Lageplan" FontSize="14" Foreground="{ThemeResource OnSurfaceBrush}" />
                                        </StackPanel>
                                    </Button>
                                    <Button HorizontalAlignment="Stretch"
                                            Height="48"
                                            Background="{ThemeResource CardBrush}"
                                            BorderBrush="{ThemeResource BorderBrush}"
                                            BorderThickness="1"
                                            CornerRadius="8"
                                            Visibility="{x:Bind ViewModel.LongAppraisalUrl, Mode=OneWay, Converter={StaticResource NullToCollapsedConverter}}">
                                        <StackPanel Orientation="Horizontal" Spacing="12">
                                            <FontIcon Glyph="&#xE82D;" FontSize="16" Foreground="{ThemeResource OnSurfaceBrush}" />
                                            <TextBlock Text="Langgutachten" FontSize="14" Foreground="{ThemeResource OnSurfaceBrush}" />
                                        </StackPanel>
                                    </Button>
                                    <Button HorizontalAlignment="Stretch"
                                            Height="48"
                                            Background="{ThemeResource CardBrush}"
                                            BorderBrush="{ThemeResource BorderBrush}"
                                            BorderThickness="1"
                                            CornerRadius="8"
                                            Visibility="{x:Bind ViewModel.ShortAppraisalUrl, Mode=OneWay, Converter={StaticResource NullToCollapsedConverter}}">
                                        <StackPanel Orientation="Horizontal" Spacing="12">
                                            <FontIcon Glyph="&#xE82D;" FontSize="16" Foreground="{ThemeResource OnSurfaceBrush}" />
                                            <TextBlock Text="Kurzgutachten" FontSize="14" Foreground="{ThemeResource OnSurfaceBrush}" />
                                        </StackPanel>
                                    </Button>
                                </StackPanel>
                            </StackPanel>

                            <!-- Section Divider -->
                            <Border Height="1" Background="{ThemeResource DividerBrush}" Margin="0,4" />

                            <!-- Provider Section -->
                            <Grid ColumnSpacing="16">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <Border Background="{ThemeResource ChipSelectedBackgroundBrush}"
                                        CornerRadius="20"
                                        Width="44"
                                        Height="44">
                                    <FontIcon Glyph="&#xE77B;"
                                              FontSize="20"
                                              Foreground="{ThemeResource ChipSelectedForegroundBrush}"
                                              HorizontalAlignment="Center"
                                              VerticalAlignment="Center" />
                                </Border>
                                <StackPanel Grid.Column="1" VerticalAlignment="Center" Spacing="2">
                                    <TextBlock Text="ANBIETER"
                                               FontSize="10"
                                               FontWeight="SemiBold"
                                               CharacterSpacing="60"
                                               Foreground="{ThemeResource DetailsBrush}" />
                                    <TextBlock Text="{x:Bind ViewModel.Property.SellerName, Mode=OneWay}"
                                               FontSize="15"
                                               FontWeight="SemiBold"
                                               Foreground="{ThemeResource OnSurfaceBrush}" />
                                </StackPanel>
                            </Grid>
                        </StackPanel>
                    </StackPanel>

                    <!-- Desktop Layout (wider screens) -->
                    <Grid Visibility="{utu:Responsive Narrowest=Collapsed, Normal=Visible}"
                          ColumnSpacing="32">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="380" />
                        </Grid.ColumnDefinitions>

                        <!-- Left Column: Images and Main Info -->
                        <StackPanel Grid.Column="0" Spacing="24">

                            <!-- Hero Image -->
                            <Grid Height="400" CornerRadius="12">
                                <Border Background="{ThemeResource PlaceholderBrush}"
                                        CornerRadius="12">
                                    <FontIcon Glyph="&#xE8A9;"
                                              FontSize="64"
                                              Foreground="{ThemeResource DetailsBrush}"
                                              HorizontalAlignment="Center"
                                              VerticalAlignment="Center" />
                                </Border>
                                <FlipView x:Name="DesktopImageFlipView"
                                          ItemsSource="{x:Bind ViewModel.Property.ImageUrls, Mode=OneWay}"
                                          SelectionChanged="OnImageSelectionChanged"
                                          CornerRadius="12">
                                    <FlipView.ItemTemplate>
                                        <DataTemplate>
                                            <Image Source="{Binding}"
                                                   Stretch="UniformToFill" />
                                        </DataTemplate>
                                    </FlipView.ItemTemplate>
                                </FlipView>

                                <!-- ZV Badge -->
                                <Border Background="#D32F2F"
                                        CornerRadius="4"
                                        Padding="12,6"
                                        Margin="16"
                                        VerticalAlignment="Top"
                                        HorizontalAlignment="Left">
                                    <TextBlock Text="ZWANGSVERSTEIGERUNG"
                                               FontSize="12"
                                               FontWeight="Bold"
                                               Foreground="White" />
                                </Border>

                                <!-- Image Counter -->
                                <Border Background="#99000000"
                                        CornerRadius="4"
                                        Padding="12,8"
                                        Margin="16"
                                        VerticalAlignment="Bottom"
                                        HorizontalAlignment="Right">
                                    <TextBlock FontSize="14" FontWeight="SemiBold" Foreground="White">
                                        <Run Text="{x:Bind ViewModel.CurrentImageIndex, Mode=OneWay}" />
                                        <Run Text="/" />
                                        <Run Text="{x:Bind ViewModel.Property.ImageUrls.Count, Mode=OneWay}" />
                                    </TextBlock>
                                </Border>
                            </Grid>

                            <!-- Titel -->
                            <TextBlock Text="{x:Bind ViewModel.Property.Title, Mode=OneWay}"
                                       FontSize="28"
                                       FontWeight="Bold"
                                       Foreground="{ThemeResource OnSurfaceBrush}"
                                       TextWrapping="Wrap" />

                            <!-- Grundbuch und Flaechen -->
                            <Border Background="{ThemeResource SurfaceVariantBrush}"
                                    CornerRadius="12"
                                    Padding="24">
                                <StackPanel Spacing="20">
                                    <TextBlock Text="Grundbuchdaten"
                                               FontSize="16"
                                               FontWeight="SemiBold"
                                               Foreground="{ThemeResource OnSurfaceBrush}" />
                                    <Grid ColumnSpacing="24" RowSpacing="16">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>

                                        <StackPanel Grid.Column="0" Spacing="4">
                                            <TextBlock Text="Einlagezahl (EZ)"
                                                       FontSize="13"
                                                       Foreground="{ThemeResource OnSurfaceVariantBrush}" />
                                            <TextBlock Text="{x:Bind ViewModel.RegistrationNumberText, Mode=OneWay}"
                                                       FontSize="14"
                                                       Foreground="{ThemeResource OnSurfaceBrush}" />
                                        </StackPanel>

                                        <StackPanel Grid.Column="1" Spacing="4">
                                            <TextBlock Text="Katastralgemeinde"
                                                       FontSize="13"
                                                       Foreground="{ThemeResource OnSurfaceVariantBrush}" />
                                            <TextBlock Text="{x:Bind ViewModel.CadastralMunicipalityText, Mode=OneWay}"
                                                       FontSize="14"
                                                       Foreground="{ThemeResource OnSurfaceBrush}" />
                                        </StackPanel>

                                        <StackPanel Grid.Column="2" Spacing="4">
                                            <TextBlock Text="Grundstuecksnummer"
                                                       FontSize="13"
                                                       Foreground="{ThemeResource OnSurfaceVariantBrush}" />
                                            <TextBlock Text="{x:Bind ViewModel.PlotNumberText, Mode=OneWay}"
                                                       FontSize="14"
                                                       Foreground="{ThemeResource OnSurfaceBrush}" />
                                        </StackPanel>

                                        <StackPanel Grid.Column="3" Spacing="4">
                                            <TextBlock Text="Flächenwidmung"
                                                       FontSize="13"
                                                       Foreground="{ThemeResource OnSurfaceVariantBrush}" />
                                            <TextBlock Text="{x:Bind ViewModel.ZoningDesignationText, Mode=OneWay}"
                                                       FontSize="14"
                                                       Foreground="{ThemeResource OnSurfaceBrush}" />
                                        </StackPanel>
                                    </Grid>
                                </StackPanel>
                            </Border>

                            <!-- Flaechendaten -->
                            <Border Background="{ThemeResource SurfaceVariantBrush}"
                                    CornerRadius="12"
                                    Padding="24">
                                <StackPanel Spacing="20">
                                    <TextBlock Text="Flaechendaten"
                                               FontSize="16"
                                               FontWeight="SemiBold"
                                               Foreground="{ThemeResource OnSurfaceBrush}" />
                                    <Grid ColumnSpacing="24">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>

                                        <StackPanel Grid.Column="0" Spacing="4">
                                            <TextBlock Text="Gesamtflaeche"
                                                       FontSize="13"
                                                       Foreground="{ThemeResource OnSurfaceVariantBrush}" />
                                            <TextBlock Text="{x:Bind ViewModel.TotalAreaText, Mode=OneWay}"
                                                       FontSize="16"
                                                       FontWeight="SemiBold"
                                                       Foreground="{ThemeResource OnSurfaceBrush}" />
                                        </StackPanel>

                                        <StackPanel Grid.Column="1" Spacing="4">
                                            <TextBlock Text="Grundstueck"
                                                       FontSize="13"
                                                       Foreground="{ThemeResource OnSurfaceVariantBrush}" />
                                            <TextBlock Text="{x:Bind ViewModel.PlotAreaText, Mode=OneWay}"
                                                       FontSize="16"
                                                       FontWeight="SemiBold"
                                                       Foreground="{ThemeResource OnSurfaceBrush}" />
                                        </StackPanel>

                                        <StackPanel Grid.Column="2" Spacing="4">
                                            <TextBlock Text="Bebaut"
                                                       FontSize="13"
                                                       Foreground="{ThemeResource OnSurfaceVariantBrush}" />
                                            <TextBlock Text="{x:Bind ViewModel.BuildingAreaText, Mode=OneWay}"
                                                       FontSize="16"
                                                       FontWeight="SemiBold"
                                                       Foreground="{ThemeResource OnSurfaceBrush}" />
                                        </StackPanel>
                                    </Grid>
                                </StackPanel>
                            </Border>

                            <!-- Hinweise -->
                            <StackPanel Spacing="12">
                                <TextBlock Text="Hinweise"
                                           FontSize="16"
                                           FontWeight="SemiBold"
                                           Foreground="{ThemeResource OnSurfaceBrush}" />
                                <TextBlock Text="{x:Bind ViewModel.NotesText, Mode=OneWay}"
                                           FontSize="15"
                                           Foreground="{ThemeResource OnSurfaceVariantBrush}"
                                           TextWrapping="Wrap" />
                            </StackPanel>
                        </StackPanel>

                        <!-- Right Column: Auction Info Card -->
                        <StackPanel Grid.Column="1" Spacing="16">

                            <!-- Versteigerung Card -->
                            <Border Background="{ThemeResource SurfaceBrush}"
                                    CornerRadius="16"
                                    Padding="24"
                                    BorderBrush="{ThemeResource OutlineBrush}"
                                    BorderThickness="1"
                                    Translation="0,0,8">
                                <Border.Shadow>
                                    <ThemeShadow />
                                </Border.Shadow>
                                <StackPanel Spacing="20">

                                    <!-- Status -->
                                    <Border Background="{ThemeResource TertiaryBrush}"
                                            CornerRadius="4"
                                            Padding="12,6"
                                            HorizontalAlignment="Left">
                                        <TextBlock Text="{x:Bind ViewModel.StatusText, Mode=OneWay}"
                                                   FontSize="13"
                                                   FontWeight="Bold"
                                                   Foreground="{ThemeResource OnTertiaryBrush}" />
                                    </Border>

                                    <!-- Versteigerungstermin -->
                                    <Border Background="{ThemeResource ErrorContainerBrush}"
                                            CornerRadius="8"
                                            Padding="16">
                                        <StackPanel Spacing="4">
                                            <TextBlock Text="Versteigerungstermin"
                                                       FontSize="13"
                                                       FontWeight="SemiBold"
                                                       Foreground="{ThemeResource OnErrorContainerBrush}" />
                                            <TextBlock Text="{x:Bind ViewModel.AuctionDateText, Mode=OneWay}"
                                                       FontSize="22"
                                                       FontWeight="Bold"
                                                       Foreground="{ThemeResource OnErrorContainerBrush}" />
                                        </StackPanel>
                                    </Border>

                                    <!-- Preise -->
                                    <StackPanel Spacing="16">
                                        <StackPanel Spacing="4">
                                            <TextBlock Text="Schaetzwert"
                                                       FontSize="13"
                                                       Foreground="{ThemeResource OnSurfaceVariantBrush}" />
                                            <TextBlock Text="{x:Bind ViewModel.EstimatedValueText, Mode=OneWay}"
                                                       FontSize="24"
                                                       FontWeight="Bold"
                                                       Foreground="{ThemeResource OnSurfaceBrush}" />
                                        </StackPanel>
                                        <StackPanel Spacing="4">
                                            <TextBlock Text="Mindestgebot"
                                                       FontSize="13"
                                                       Foreground="{ThemeResource OnSurfaceVariantBrush}" />
                                            <TextBlock Text="{x:Bind ViewModel.MinimumBidText, Mode=OneWay}"
                                                       FontSize="24"
                                                       FontWeight="Bold"
                                                       Foreground="{ThemeResource PrimaryBrush}" />
                                        </StackPanel>
                                    </StackPanel>

                                    <!-- Buttons -->
                                    <StackPanel Spacing="12">
                                        <Button Content="{x:Bind ViewModel.FavoriteButtonText, Mode=OneWay}"
                                                Command="{x:Bind ViewModel.ToggleFavoriteCommand}"
                                                HorizontalAlignment="Stretch"
                                                Style="{ThemeResource FilledTonalButtonStyle}" />
                                        <Button HorizontalAlignment="Stretch"
                                                Command="{x:Bind ViewModel.SharePropertyCommand}"
                                                Style="{ThemeResource OutlinedButtonStyle}">
                                            <StackPanel Orientation="Horizontal" Spacing="8">
                                                <FontIcon Glyph="&#xE72D;" FontSize="16" />
                                                <TextBlock Text="Teilen" VerticalAlignment="Center" />
                                            </StackPanel>
                                        </Button>
                                    </StackPanel>
                                </StackPanel>
                            </Border>

                            <!-- Gericht Card -->
                            <Border Background="{ThemeResource SurfaceBrush}"
                                    CornerRadius="12"
                                    Padding="20"
                                    BorderBrush="{ThemeResource OutlineBrush}"
                                    BorderThickness="1">
                                <StackPanel Spacing="16">
                                    <TextBlock Text="Rechtliche Informationen"
                                               FontSize="15"
                                               FontWeight="SemiBold"
                                               Foreground="{ThemeResource OnSurfaceBrush}" />
                                    <StackPanel Spacing="4">
                                        <TextBlock Text="Gericht"
                                                   FontSize="12"
                                                   Foreground="{ThemeResource OnSurfaceVariantBrush}" />
                                        <TextBlock Text="{x:Bind ViewModel.CourtText, Mode=OneWay}"
                                                   FontSize="14"
                                                   FontWeight="SemiBold"
                                                   Foreground="{ThemeResource OnSurfaceBrush}"
                                                   TextWrapping="Wrap" />
                                    </StackPanel>
                                    <StackPanel Spacing="4">
                                        <TextBlock Text="Aktenzeichen"
                                                   FontSize="12"
                                                   Foreground="{ThemeResource OnSurfaceVariantBrush}" />
                                        <TextBlock Text="{x:Bind ViewModel.CaseNumberText, Mode=OneWay}"
                                                   FontSize="14"
                                                   FontWeight="SemiBold"
                                                   Foreground="{ThemeResource OnSurfaceBrush}" />
                                    </StackPanel>
                                </StackPanel>
                            </Border>

                            <!-- Adresse Card -->
                            <Border Background="{ThemeResource SurfaceBrush}"
                                    CornerRadius="12"
                                    Padding="20"
                                    BorderBrush="{ThemeResource OutlineBrush}"
                                    BorderThickness="1">
                                <StackPanel Spacing="12">
                                    <TextBlock Text="Adresse"
                                               FontSize="15"
                                               FontWeight="SemiBold"
                                               Foreground="{ThemeResource OnSurfaceBrush}" />
                                    <StackPanel Orientation="Horizontal" Spacing="12">
                                        <FontIcon Glyph="&#xE707;"
                                                  FontSize="18"
                                                  Foreground="{ThemeResource OnSurfaceVariantBrush}" />
                                        <TextBlock Text="{x:Bind ViewModel.AddressText, Mode=OneWay}"
                                                   FontSize="14"
                                                   Foreground="{ThemeResource OnSurfaceBrush}"
                                                   TextWrapping="Wrap" />
                                    </StackPanel>
                                </StackPanel>
                            </Border>

                            <!-- Termine Card -->
                            <Border Background="{ThemeResource SurfaceBrush}"
                                    CornerRadius="12"
                                    Padding="20"
                                    BorderBrush="{ThemeResource OutlineBrush}"
                                    BorderThickness="1">
                                <StackPanel Spacing="16">
                                    <TextBlock Text="Termine"
                                               FontSize="15"
                                               FontWeight="SemiBold"
                                               Foreground="{ThemeResource OnSurfaceBrush}" />
                                    <StackPanel Spacing="4">
                                        <TextBlock Text="Besichtigung"
                                                   FontSize="12"
                                                   Foreground="{ThemeResource OnSurfaceVariantBrush}" />
                                        <TextBlock Text="{x:Bind ViewModel.ViewingDateText, Mode=OneWay}"
                                                   FontSize="14"
                                                   Foreground="{ThemeResource OnSurfaceBrush}" />
                                    </StackPanel>
                                    <StackPanel Spacing="4">
                                        <TextBlock Text="Gebotsfrist"
                                                   FontSize="12"
                                                   Foreground="{ThemeResource OnSurfaceVariantBrush}" />
                                        <TextBlock Text="{x:Bind ViewModel.BiddingDeadlineText, Mode=OneWay}"
                                                   FontSize="14"
                                                   Foreground="{ThemeResource OnSurfaceBrush}" />
                                    </StackPanel>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </Grid>
                </Grid>
            </ScrollViewer>
        </uc:BusyOverlay>
    </Grid>
</pages:BasePage>
