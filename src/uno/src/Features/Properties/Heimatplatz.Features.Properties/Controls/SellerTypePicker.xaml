<UserControl x:Class="Heimatplatz.Features.Properties.Controls.SellerTypePicker"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="using:Heimatplatz.Features.Properties.Controls"
             xmlns:models="using:Heimatplatz.Features.Properties.Models">

    <!--
    SellerTypePicker - MultiSelect Picker fuer Anbietertypen (Privat, Makler, Portal)
    Analog zum OrtPicker mit Button und Flyout
    -->

    <Grid>
        <Button x:Name="PickerButton"
                HorizontalAlignment="Stretch"
                HorizontalContentAlignment="Stretch"
                Background="{ThemeResource SurfaceBrush}"
                BorderBrush="{ThemeResource BorderBrush}"
                BorderThickness="1"
                CornerRadius="{StaticResource RadiusSm}"
                Padding="12,8"
                AutomationProperties.AutomationId="SellerTypePicker_Button">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <TextBlock x:Name="SelectionText"
                           Grid.Column="0"
                           Text="Anbieter: Alle"
                           FontSize="14"
                           Foreground="{ThemeResource OnSurfaceBrush}"
                           VerticalAlignment="Center"
                           TextTrimming="CharacterEllipsis" />

                <FontIcon Grid.Column="1"
                          Glyph="&#xE70D;"
                          FontSize="12"
                          Foreground="{ThemeResource OnSurfaceVariantBrush}"
                          VerticalAlignment="Center" />
            </Grid>

            <Button.Flyout>
                <Flyout x:Name="PickerFlyout"
                        Placement="Bottom">
                    <Border Background="{ThemeResource SurfaceBrush}"
                            CornerRadius="{StaticResource RadiusSm}"
                            Padding="12"
                            Margin="-12">
                        <StackPanel MinWidth="200"
                                    Spacing="4">

                            <!-- Header -->
                            <TextBlock Text="Anbietertyp"
                                       FontSize="14"
                                       FontWeight="SemiBold"
                                       Foreground="{ThemeResource OnSurfaceBrush}"
                                       Margin="0,0,0,8" />

                            <!-- SellerTypes Liste -->
                            <ItemsRepeater x:Name="SellerTypesRepeater"
                                           ItemsSource="{x:Bind SellerTypes, Mode=OneWay}">
                                <ItemsRepeater.ItemTemplate>
                                    <DataTemplate x:DataType="models:SellerTypeModel">
                                        <CheckBox Content="{x:Bind DisplayName}"
                                                  IsChecked="{x:Bind IsSelected, Mode=TwoWay}"
                                                  Margin="0,2"
                                                  FontSize="13" />
                                    </DataTemplate>
                                </ItemsRepeater.ItemTemplate>
                            </ItemsRepeater>

                        </StackPanel>
                    </Border>
                </Flyout>
            </Button.Flyout>
        </Button>
    </Grid>
</UserControl>
