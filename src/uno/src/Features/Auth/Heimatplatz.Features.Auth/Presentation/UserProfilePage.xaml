<pages:BasePage x:Class="Heimatplatz.Features.Auth.Presentation.UserProfilePage"
                xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                xmlns:local="using:Heimatplatz.Features.Auth.Presentation"
                xmlns:utu="using:Uno.Toolkit.UI"
                xmlns:pages="using:UnoFramework.Pages"
                x:Name="RootPage"
                NavigationCacheMode="Disabled">

    <!--
    UserProfilePage - Mein Profil Seite
    Responsive Layout: Mobile (single column) / Desktop (centered card)
    -->

    <Grid Background="{ThemeResource BackgroundBrush}">
        <ScrollViewer>
            <Grid Padding="{utu:Responsive Narrowest='0', Normal='40,24'}"
                  MaxWidth="800"
                  HorizontalAlignment="Center">

                <!-- Mobile Layout -->
                <Grid Visibility="{utu:Responsive Narrowest=Visible, Normal=Collapsed}">
                    <StackPanel Background="{ThemeResource SurfaceBrush}">

                        <!-- Hero Header mit Avatar -->
                        <Border Background="{ThemeResource PrimaryButtonBackgroundBrush}"
                                Padding="24,48,24,32">
                            <StackPanel HorizontalAlignment="Center" Spacing="16">
                                <!-- Avatar Circle -->
                                <Border Width="96"
                                        Height="96"
                                        CornerRadius="48"
                                        Background="{ThemeResource SurfaceBrush}"
                                        HorizontalAlignment="Center"
                                        Translation="0,0,16">
                                    <Border.Shadow>
                                        <ThemeShadow />
                                    </Border.Shadow>
                                    <TextBlock Text="{x:Bind ViewModel.UserInitials, Mode=OneWay}"
                                               FontSize="36"
                                               FontWeight="Bold"
                                               Foreground="{ThemeResource PrimaryButtonBackgroundBrush}"
                                               HorizontalAlignment="Center"
                                               VerticalAlignment="Center" />
                                </Border>

                                <!-- Name -->
                                <TextBlock Text="{x:Bind ViewModel.UserFullName, Mode=OneWay}"
                                           FontSize="24"
                                           FontWeight="SemiBold"
                                           Foreground="{ThemeResource PrimaryButtonForegroundBrush}"
                                           HorizontalAlignment="Center"
                                           TextWrapping="Wrap"
                                           TextAlignment="Center" />

                                <!-- Rollen-Badge -->
                                <Border Background="{ThemeResource SurfaceBrush}"
                                        CornerRadius="16"
                                        Padding="16,8"
                                        HorizontalAlignment="Center"
                                        Opacity="0.95">
                                    <TextBlock Text="{x:Bind ViewModel.RoleBadgeText, Mode=OneWay}"
                                               FontSize="13"
                                               FontWeight="SemiBold"
                                               Foreground="{ThemeResource OnSurfaceBrush}"
                                               HorizontalAlignment="Center" />
                                </Border>
                            </StackPanel>
                        </Border>

                        <!-- Info-Karten -->
                        <StackPanel Padding="20,24" Spacing="16">

                            <!-- E-Mail Karte -->
                            <Border Background="{ThemeResource SolidBackgroundFillColorSecondary}"
                                    CornerRadius="12"
                                    Padding="16">
                                <Grid ColumnSpacing="16">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>

                                    <Border Grid.Column="0"
                                            Width="44"
                                            Height="44"
                                            CornerRadius="22"
                                            Background="{ThemeResource SurfaceBrush}"
                                            VerticalAlignment="Center">
                                        <FontIcon Glyph="&#xE715;"
                                                  FontSize="18"
                                                  Foreground="{ThemeResource OnSurfaceVariantBrush}"
                                                  HorizontalAlignment="Center"
                                                  VerticalAlignment="Center" />
                                    </Border>

                                    <StackPanel Grid.Column="1" Spacing="4" VerticalAlignment="Center">
                                        <TextBlock Text="E-Mail"
                                                   FontSize="12"
                                                   Foreground="{ThemeResource OnSurfaceVariantBrush}" />
                                        <TextBlock Text="{x:Bind ViewModel.UserEmail, Mode=OneWay}"
                                                   FontSize="15"
                                                   FontWeight="Medium"
                                                   Foreground="{ThemeResource OnSurfaceBrush}"
                                                   TextWrapping="Wrap" />
                                    </StackPanel>
                                </Grid>
                            </Border>

                            <!-- Rolle: Kaeufer -->
                            <Border Background="{ThemeResource SolidBackgroundFillColorSecondary}"
                                    CornerRadius="12"
                                    Padding="16"
                                    Visibility="{x:Bind ViewModel.IsBuyer, Mode=OneWay}">
                                <Grid ColumnSpacing="16">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>

                                    <Border Grid.Column="0"
                                            Width="44"
                                            Height="44"
                                            CornerRadius="22"
                                            Background="{ThemeResource SurfaceBrush}"
                                            VerticalAlignment="Center">
                                        <FontIcon Glyph="&#xE8FB;"
                                                  FontSize="18"
                                                  Foreground="{ThemeResource OnSurfaceVariantBrush}"
                                                  HorizontalAlignment="Center"
                                                  VerticalAlignment="Center" />
                                    </Border>

                                    <StackPanel Grid.Column="1" Spacing="4" VerticalAlignment="Center">
                                        <TextBlock Text="Rolle"
                                                   FontSize="12"
                                                   Foreground="{ThemeResource OnSurfaceVariantBrush}" />
                                        <TextBlock Text="Kaeufer"
                                                   FontSize="15"
                                                   FontWeight="Medium"
                                                   Foreground="{ThemeResource OnSurfaceBrush}" />
                                        <TextBlock Text="Suche nach Immobilien und Anfragen stellen"
                                                   FontSize="12"
                                                   Foreground="{ThemeResource OnSurfaceVariantBrush}"
                                                   TextWrapping="Wrap" />
                                    </StackPanel>
                                </Grid>
                            </Border>

                            <!-- Rolle: Verkaeufer -->
                            <Border Background="{ThemeResource SolidBackgroundFillColorSecondary}"
                                    CornerRadius="12"
                                    Padding="16"
                                    Visibility="{x:Bind ViewModel.IsSeller, Mode=OneWay}">
                                <Grid ColumnSpacing="16">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>

                                    <Border Grid.Column="0"
                                            Width="44"
                                            Height="44"
                                            CornerRadius="22"
                                            Background="{ThemeResource SurfaceBrush}"
                                            VerticalAlignment="Center">
                                        <FontIcon Glyph="&#xE80F;"
                                                  FontSize="18"
                                                  Foreground="{ThemeResource OnSurfaceVariantBrush}"
                                                  HorizontalAlignment="Center"
                                                  VerticalAlignment="Center" />
                                    </Border>

                                    <StackPanel Grid.Column="1" Spacing="4" VerticalAlignment="Center">
                                        <TextBlock Text="Rolle"
                                                   FontSize="12"
                                                   Foreground="{ThemeResource OnSurfaceVariantBrush}" />
                                        <TextBlock Text="Verkaeufer"
                                                   FontSize="15"
                                                   FontWeight="Medium"
                                                   Foreground="{ThemeResource OnSurfaceBrush}" />
                                        <TextBlock Text="Immobilien anbieten und verwalten"
                                                   FontSize="12"
                                                   Foreground="{ThemeResource OnSurfaceVariantBrush}"
                                                   TextWrapping="Wrap" />
                                    </StackPanel>
                                </Grid>
                            </Border>

                            <!-- Benutzer-ID (dezent) -->
                            <Border Background="{ThemeResource SolidBackgroundFillColorSecondary}"
                                    CornerRadius="12"
                                    Padding="16">
                                <Grid ColumnSpacing="16">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>

                                    <Border Grid.Column="0"
                                            Width="44"
                                            Height="44"
                                            CornerRadius="22"
                                            Background="{ThemeResource SurfaceBrush}"
                                            VerticalAlignment="Center">
                                        <FontIcon Glyph="&#xE77B;"
                                                  FontSize="18"
                                                  Foreground="{ThemeResource OnSurfaceVariantBrush}"
                                                  HorizontalAlignment="Center"
                                                  VerticalAlignment="Center" />
                                    </Border>

                                    <StackPanel Grid.Column="1" Spacing="4" VerticalAlignment="Center">
                                        <TextBlock Text="Konto-Status"
                                                   FontSize="12"
                                                   Foreground="{ThemeResource OnSurfaceVariantBrush}" />
                                        <TextBlock Text="Aktiv"
                                                   FontSize="15"
                                                   FontWeight="Medium"
                                                   Foreground="{ThemeResource OnSurfaceBrush}" />
                                    </StackPanel>
                                </Grid>
                            </Border>
                        </StackPanel>
                    </StackPanel>
                </Grid>

                <!-- Desktop Layout -->
                <StackPanel Visibility="{utu:Responsive Narrowest=Collapsed, Normal=Visible}"
                            Spacing="32">

                    <!-- Profil-Karte mit Schatten -->
                    <Border Background="{ThemeResource SurfaceBrush}"
                            BorderBrush="{ThemeResource BorderBrush}"
                            BorderThickness="0.5"
                            CornerRadius="16"
                            Padding="0"
                            Translation="0,0,16">
                        <Border.Shadow>
                            <ThemeShadow />
                        </Border.Shadow>

                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <!-- Header Banner -->
                            <Border Grid.Row="0"
                                    Background="{ThemeResource PrimaryButtonBackgroundBrush}"
                                    CornerRadius="16,16,0,0"
                                    Height="140" />

                            <!-- Profil-Inhalt -->
                            <StackPanel Grid.Row="1"
                                        Padding="40,0,40,40"
                                        Spacing="24">

                                <!-- Avatar (ueberlappt Banner) -->
                                <Border Width="120"
                                        Height="120"
                                        CornerRadius="60"
                                        Background="{ThemeResource SurfaceBrush}"
                                        BorderBrush="{ThemeResource SurfaceBrush}"
                                        BorderThickness="4"
                                        HorizontalAlignment="Center"
                                        Margin="0,-60,0,0"
                                        Translation="0,0,24">
                                    <Border.Shadow>
                                        <ThemeShadow />
                                    </Border.Shadow>
                                    <TextBlock Text="{x:Bind ViewModel.UserInitials, Mode=OneWay}"
                                               FontSize="44"
                                               FontWeight="Bold"
                                               Foreground="{ThemeResource PrimaryButtonBackgroundBrush}"
                                               HorizontalAlignment="Center"
                                               VerticalAlignment="Center" />
                                </Border>

                                <!-- Name und Badge -->
                                <StackPanel HorizontalAlignment="Center" Spacing="12">
                                    <TextBlock Text="{x:Bind ViewModel.UserFullName, Mode=OneWay}"
                                               FontSize="28"
                                               FontWeight="SemiBold"
                                               Foreground="{ThemeResource OnSurfaceBrush}"
                                               HorizontalAlignment="Center"
                                               TextWrapping="Wrap"
                                               TextAlignment="Center" />

                                    <Border Background="{ThemeResource PrimaryButtonBackgroundBrush}"
                                            CornerRadius="16"
                                            Padding="20,8"
                                            HorizontalAlignment="Center">
                                        <TextBlock Text="{x:Bind ViewModel.RoleBadgeText, Mode=OneWay}"
                                                   FontSize="13"
                                                   FontWeight="SemiBold"
                                                   Foreground="{ThemeResource PrimaryButtonForegroundBrush}" />
                                    </Border>
                                </StackPanel>

                                <!-- Trennlinie -->
                                <Border Background="{ThemeResource BorderBrush}"
                                        Height="1"
                                        Margin="0,8" />

                                <!-- Info-Grid -->
                                <Grid ColumnSpacing="40" RowSpacing="24">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                    </Grid.RowDefinitions>

                                    <!-- E-Mail -->
                                    <Border Grid.Row="0" Grid.Column="0"
                                            Background="{ThemeResource SolidBackgroundFillColorSecondary}"
                                            CornerRadius="12"
                                            Padding="20">
                                        <Grid ColumnSpacing="16">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>

                                            <Border Grid.Column="0"
                                                    Width="48"
                                                    Height="48"
                                                    CornerRadius="24"
                                                    Background="{ThemeResource SurfaceBrush}"
                                                    VerticalAlignment="Center">
                                                <FontIcon Glyph="&#xE715;"
                                                          FontSize="20"
                                                          Foreground="{ThemeResource OnSurfaceVariantBrush}"
                                                          HorizontalAlignment="Center"
                                                          VerticalAlignment="Center" />
                                            </Border>

                                            <StackPanel Grid.Column="1" Spacing="4" VerticalAlignment="Center">
                                                <TextBlock Text="E-Mail-Adresse"
                                                           FontSize="13"
                                                           Foreground="{ThemeResource OnSurfaceVariantBrush}" />
                                                <TextBlock Text="{x:Bind ViewModel.UserEmail, Mode=OneWay}"
                                                           FontSize="16"
                                                           FontWeight="Medium"
                                                           Foreground="{ThemeResource OnSurfaceBrush}"
                                                           TextWrapping="Wrap" />
                                            </StackPanel>
                                        </Grid>
                                    </Border>

                                    <!-- Konto-Status -->
                                    <Border Grid.Row="0" Grid.Column="1"
                                            Background="{ThemeResource SolidBackgroundFillColorSecondary}"
                                            CornerRadius="12"
                                            Padding="20">
                                        <Grid ColumnSpacing="16">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>

                                            <Border Grid.Column="0"
                                                    Width="48"
                                                    Height="48"
                                                    CornerRadius="24"
                                                    Background="{ThemeResource SurfaceBrush}"
                                                    VerticalAlignment="Center">
                                                <FontIcon Glyph="&#xE8FB;"
                                                          FontSize="20"
                                                          Foreground="{ThemeResource OnSurfaceVariantBrush}"
                                                          HorizontalAlignment="Center"
                                                          VerticalAlignment="Center" />
                                            </Border>

                                            <StackPanel Grid.Column="1" Spacing="4" VerticalAlignment="Center">
                                                <TextBlock Text="Konto-Status"
                                                           FontSize="13"
                                                           Foreground="{ThemeResource OnSurfaceVariantBrush}" />
                                                <TextBlock Text="Aktiv"
                                                           FontSize="16"
                                                           FontWeight="Medium"
                                                           Foreground="{ThemeResource OnSurfaceBrush}" />
                                            </StackPanel>
                                        </Grid>
                                    </Border>

                                    <!-- Rolle: Kaeufer -->
                                    <Border Grid.Row="1" Grid.Column="0"
                                            Background="{ThemeResource SolidBackgroundFillColorSecondary}"
                                            CornerRadius="12"
                                            Padding="20"
                                            Visibility="{x:Bind ViewModel.IsBuyer, Mode=OneWay}">
                                        <Grid ColumnSpacing="16">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>

                                            <Border Grid.Column="0"
                                                    Width="48"
                                                    Height="48"
                                                    CornerRadius="24"
                                                    Background="{ThemeResource SurfaceBrush}"
                                                    VerticalAlignment="Center">
                                                <FontIcon Glyph="&#xE8FB;"
                                                          FontSize="20"
                                                          Foreground="{ThemeResource OnSurfaceVariantBrush}"
                                                          HorizontalAlignment="Center"
                                                          VerticalAlignment="Center" />
                                            </Border>

                                            <StackPanel Grid.Column="1" Spacing="4" VerticalAlignment="Center">
                                                <TextBlock Text="Kaeufer"
                                                           FontSize="16"
                                                           FontWeight="Medium"
                                                           Foreground="{ThemeResource OnSurfaceBrush}" />
                                                <TextBlock Text="Suche nach Immobilien und Anfragen stellen"
                                                           FontSize="13"
                                                           Foreground="{ThemeResource OnSurfaceVariantBrush}"
                                                           TextWrapping="Wrap" />
                                            </StackPanel>
                                        </Grid>
                                    </Border>

                                    <!-- Rolle: Verkaeufer -->
                                    <Border Grid.Row="1" Grid.Column="1"
                                            Background="{ThemeResource SolidBackgroundFillColorSecondary}"
                                            CornerRadius="12"
                                            Padding="20"
                                            Visibility="{x:Bind ViewModel.IsSeller, Mode=OneWay}">
                                        <Grid ColumnSpacing="16">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>

                                            <Border Grid.Column="0"
                                                    Width="48"
                                                    Height="48"
                                                    CornerRadius="24"
                                                    Background="{ThemeResource SurfaceBrush}"
                                                    VerticalAlignment="Center">
                                                <FontIcon Glyph="&#xE80F;"
                                                          FontSize="20"
                                                          Foreground="{ThemeResource OnSurfaceVariantBrush}"
                                                          HorizontalAlignment="Center"
                                                          VerticalAlignment="Center" />
                                            </Border>

                                            <StackPanel Grid.Column="1" Spacing="4" VerticalAlignment="Center">
                                                <TextBlock Text="Verkaeufer"
                                                           FontSize="16"
                                                           FontWeight="Medium"
                                                           Foreground="{ThemeResource OnSurfaceBrush}" />
                                                <TextBlock Text="Immobilien anbieten und verwalten"
                                                           FontSize="13"
                                                           Foreground="{ThemeResource OnSurfaceVariantBrush}"
                                                           TextWrapping="Wrap" />
                                            </StackPanel>
                                        </Grid>
                                    </Border>
                                </Grid>
                            </StackPanel>
                        </Grid>
                    </Border>
                </StackPanel>
            </Grid>
        </ScrollViewer>
    </Grid>
</pages:BasePage>
