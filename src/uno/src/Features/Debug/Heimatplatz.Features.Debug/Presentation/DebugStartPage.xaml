<ufp:BasePage x:Class="Heimatplatz.Features.Debug.Presentation.DebugStartPage"
              xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
              xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
              xmlns:utu="using:Uno.Toolkit.UI"
              xmlns:ufp="using:UnoFramework.Pages"
              Background="{ThemeResource BackgroundBrush}">

    <Grid utu:SafeArea.Insets="VisibleBounds">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- Header mit User-Auswahl -->
        <StackPanel Grid.Row="0"
                    Padding="24,32,24,24"
                    Spacing="24">

            <!-- Title -->
            <TextBlock Text="DEBUG START"
                       FontSize="32"
                       FontWeight="Bold"
                       Foreground="#FF6B6B"
                       HorizontalAlignment="Center" />

            <!-- User Selection -->
            <StackPanel Spacing="12">
                <TextBlock Text="Benutzer-Modus"
                           FontSize="14"
                           Opacity="0.7"
                           HorizontalAlignment="Center" />

                <StackPanel Orientation="Horizontal"
                            HorizontalAlignment="Center"
                            Spacing="8">
                    <Button MinWidth="120"
                            Command="{Binding LogoutCommand}">
                        <StackPanel Spacing="4">
                            <TextBlock Text="Ausgeloggt"
                                       HorizontalAlignment="Center" />
                            <Border Height="2"
                                    Background="#FF6B6B"
                                    Visibility="{Binding IsLoggedOut}" />
                        </StackPanel>
                    </Button>

                    <Button MinWidth="120"
                            Command="{Binding LoginAsBuyerCommand}">
                        <StackPanel Spacing="4">
                            <TextBlock Text="KÃ¤ufer"
                                       HorizontalAlignment="Center" />
                            <Border Height="2"
                                    Background="#4CAF50"
                                    Visibility="{Binding IsBuyer}" />
                        </StackPanel>
                    </Button>

                    <Button MinWidth="120"
                            Command="{Binding LoginAsSellerCommand}">
                        <StackPanel Spacing="4">
                            <TextBlock Text="VerkÃ¤ufer"
                                       HorizontalAlignment="Center" />
                            <Border Height="2"
                                    Background="#2196F3"
                                    Visibility="{Binding IsSeller}" />
                        </StackPanel>
                    </Button>

                    <Button MinWidth="120"
                            Command="{Binding LoginAsBothCommand}">
                        <StackPanel Spacing="4">
                            <TextBlock Text="Beides"
                                       HorizontalAlignment="Center" />
                            <Border Height="2"
                                    Background="#9C27B0"
                                    Visibility="{Binding IsBoth}" />
                        </StackPanel>
                    </Button>
                </StackPanel>

                <!-- Current User Info -->
                <Border Background="#20FFFFFF"
                        Padding="16,12"
                        CornerRadius="8"
                        HorizontalAlignment="Center">
                    <StackPanel Spacing="4">
                        <TextBlock FontSize="12"
                                   Opacity="0.7"
                                   HorizontalAlignment="Center">
                            <Run Text="User: " />
                            <Run Text="{Binding CurrentUserEmail, Mode=OneWay}"
                                 FontWeight="SemiBold" />
                        </TextBlock>
                        <TextBlock FontSize="12"
                                   Opacity="0.7"
                                   HorizontalAlignment="Center">
                            <Run Text="Rollen: " />
                            <Run Text="{Binding CurrentUserRoles, Mode=OneWay}"
                                 FontWeight="SemiBold" />
                        </TextBlock>
                    </StackPanel>
                </Border>
            </StackPanel>
        </StackPanel>

        <!-- Page Navigation Buttons -->
        <ScrollViewer Grid.Row="1">
            <utu:AutoLayout Padding="24"
                            Spacing="16"
                            PrimaryAxisAlignment="Center">

                <TextBlock Text="Navigation"
                           FontSize="20"
                           FontWeight="SemiBold"
                           Opacity="0.9"
                           HorizontalAlignment="Center" />

                <!-- Main Pages -->
                <Button Content="ðŸ  Home"
                        Command="{Binding NavigateToHomeCommand}"
                        HorizontalAlignment="Stretch"
                        MinWidth="300" />

                <Button Content="âž• Add Property"
                        Command="{Binding NavigateToAddPropertyCommand}"
                        HorizontalAlignment="Stretch"
                        MinWidth="300" />

                <Button Content="ðŸ“‹ My Properties"
                        Command="{Binding NavigateToMyPropertiesCommand}"
                        HorizontalAlignment="Stretch"
                        MinWidth="300" />

                <Button Content="âœï¸ Edit First Seller Property"
                        Command="{Binding EditFirstSellerPropertyCommand}"
                        HorizontalAlignment="Stretch"
                        MinWidth="300" />

                <!-- Auth Pages -->
                <Border Height="1"
                        Background="#30FFFFFF"
                        Margin="0,8" />

                <Button Content="ðŸ” Login Page"
                        Command="{Binding NavigateToLoginCommand}"
                        HorizontalAlignment="Stretch"
                        MinWidth="300" />

                <Button Content="ðŸ“ Register Page"
                        Command="{Binding NavigateToRegisterCommand}"
                        HorizontalAlignment="Stretch"
                        MinWidth="300" />

            </utu:AutoLayout>
        </ScrollViewer>
    </Grid>
</ufp:BasePage>
