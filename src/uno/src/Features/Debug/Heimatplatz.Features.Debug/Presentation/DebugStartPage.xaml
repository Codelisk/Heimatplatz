<Page x:Class="Heimatplatz.Features.Debug.Presentation.DebugStartPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:utu="using:Uno.Toolkit.UI"
      Background="{ThemeResource BackgroundBrush}">

    <Grid utu:SafeArea.Insets="VisibleBounds">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- Header mit User-Auswahl -->
        <StackPanel Grid.Row="0"
                    Padding="24,32,24,24"
                    Spacing="24">

            <!-- Title -->
            <TextBlock Text="DEBUG START"
                       FontSize="32"
                       FontWeight="Bold"
                       Foreground="#FF6B6B"
                       HorizontalAlignment="Center" />

            <!-- User Selection -->
            <StackPanel Spacing="12">
                <TextBlock Text="Benutzer-Modus"
                           FontSize="14"
                           Opacity="0.7"
                           HorizontalAlignment="Center" />

                <StackPanel Orientation="Horizontal"
                            HorizontalAlignment="Center"
                            Spacing="8">
                    <ToggleButton Content="Ausgeloggt"
                                  IsChecked="{x:Bind ViewModel.IsLoggedOut, Mode=TwoWay}"
                                  MinWidth="120"
                                  Command="{x:Bind ViewModel.LogoutCommand}" />

                    <ToggleButton Content="KÃ¤ufer"
                                  IsChecked="{x:Bind ViewModel.IsBuyer, Mode=TwoWay}"
                                  MinWidth="120"
                                  Command="{x:Bind ViewModel.LoginAsBuyerCommand}" />

                    <ToggleButton Content="VerkÃ¤ufer"
                                  IsChecked="{x:Bind ViewModel.IsSeller, Mode=TwoWay}"
                                  MinWidth="120"
                                  Command="{x:Bind ViewModel.LoginAsSellerCommand}" />

                    <ToggleButton Content="Beides"
                                  IsChecked="{x:Bind ViewModel.IsBoth, Mode=TwoWay}"
                                  MinWidth="120"
                                  Command="{x:Bind ViewModel.LoginAsBothCommand}" />
                </StackPanel>

                <!-- Current User Info -->
                <Border Background="#20FFFFFF"
                        Padding="16,12"
                        CornerRadius="8"
                        HorizontalAlignment="Center">
                    <StackPanel Spacing="4">
                        <TextBlock FontSize="12"
                                   Opacity="0.7"
                                   HorizontalAlignment="Center">
                            <Run Text="User: " />
                            <Run Text="{x:Bind ViewModel.CurrentUserEmail, Mode=OneWay}"
                                 FontWeight="SemiBold" />
                        </TextBlock>
                        <TextBlock FontSize="12"
                                   Opacity="0.7"
                                   HorizontalAlignment="Center">
                            <Run Text="Rollen: " />
                            <Run Text="{x:Bind ViewModel.CurrentUserRoles, Mode=OneWay}"
                                 FontWeight="SemiBold" />
                        </TextBlock>
                    </StackPanel>
                </Border>
            </StackPanel>
        </StackPanel>

        <!-- Page Navigation Buttons -->
        <ScrollViewer Grid.Row="1">
            <utu:AutoLayout Padding="24"
                            Spacing="16"
                            PrimaryAxisAlignment="Center">

                <TextBlock Text="Navigation"
                           FontSize="20"
                           FontWeight="SemiBold"
                           Opacity="0.9"
                           HorizontalAlignment="Center" />

                <!-- Main Pages -->
                <Button Content="ðŸ  Home"
                        Command="{x:Bind ViewModel.NavigateToHomeCommand}"
                        HorizontalAlignment="Stretch"
                        MinWidth="300" />

                <Button Content="âž• Add Property"
                        Command="{x:Bind ViewModel.NavigateToAddPropertyCommand}"
                        HorizontalAlignment="Stretch"
                        MinWidth="300" />

                <!-- Auth Pages -->
                <Border Height="1"
                        Background="#30FFFFFF"
                        Margin="0,8" />

                <Button Content="ðŸ” Login Page"
                        Command="{x:Bind ViewModel.NavigateToLoginCommand}"
                        HorizontalAlignment="Stretch"
                        MinWidth="300" />

                <Button Content="ðŸ“ Register Page"
                        Command="{x:Bind ViewModel.NavigateToRegisterCommand}"
                        HorizontalAlignment="Stretch"
                        MinWidth="300" />

            </utu:AutoLayout>
        </ScrollViewer>
    </Grid>
</Page>
